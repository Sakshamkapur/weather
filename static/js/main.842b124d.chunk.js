(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{184:function(e,a,t){"use strict";t.r(a);var s=t(0),r=t.n(s),n=t(52),i=t.n(n),c=(t(65),t(29)),o=t(53),l=t(54),d=t(58),h=t(55),u=t(59),m=(t(66),t(19)),p=t.n(m),g=t(56),w=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(d.a)(this,Object(h.a)(a).call(this,e))).state={city:"",dataWeather:[],dataForecast:[],celsius:!1,iconClass:"",dataForcast:[],colorClass:"",chartData:{labels:[],datasets:[{label:"Sun Hour",data:[],backgroundColor:"rgba(255, 206, 86, 0.6)"},{label:"UV Index",data:[],backgroundColor:"rgba(153, 102, 255, 0.6)"},{label:"Maximum temperature",data:[],backgroundColor:"rgba(54, 162, 235, 0.6)"},{label:"Minimum temperature",data:[],backgroundColor:"rgba(255, 99, 132, 0.6)"}]},load:!0},t}return Object(u.a)(a,e),Object(l.a)(a,[{key:"fullDay",value:function(e){switch(e){case"Tue":return"Tuesday";case"Wed":return"Wednesday";case"Thu":return"Thursday";case"Sat":return"Saturday";default:return e+"day"}}},{key:"titleCase",value:function(e){return e.split(" ").map(function(e){return e[0].toUpperCase()+e.substring(1)}).join(" ")}},{key:"chooseIcon",value:function(){var e;switch(this.state.dataWeather.weather[0].icon){case"01d":e="wi wi-day-sunny";break;case"02d":e="wi wi-day-sunny-overcast";break;case"01n":e="wi wi-night-clear";break;case"02n":e="wi wi-night-partly-cloudy"}switch(this.state.dataWeather.weather[0].icon.substr(0,2)){case"03":e="wi wi-cloud";break;case"04":e="wi wi-cloudy";break;case"09":e="wi wi-showers";break;case"10":e="wi wi-rain";break;case"11":e="wi wi-thunderstorm";break;case"13":e="wi wi-snow";break;case"50":e="wi wi-fog"}this.setState({iconClass:e})}},{key:"toggleCelsius",value:function(){var e=this.state.dataWeather;this.state.celsius?e.main.temp=Math.round(1.8*e.main.temp+32):e.main.temp=Math.round((e.main.temp-32)*(5/9)),this.setState({celsius:!this.state.celsius,dataWeather:e})}},{key:"changeBackground",value:function(){var e,a=this.state.dataWeather.main.temp;e=a>=80?"hot":a>=70?"warm":a>=60?"cool":"cold",this.setState({colorClass:e})}},{key:"getWeather",value:function(){var e=this;this.setState({load:!0});var a="58b6f7c78582bffab3936dac99c31b25",t=this.state.city;p.a.get("//api.openweathermap.org/data/2.5/weather",{params:{q:t,units:"imperial",appid:a}}).then(function(a){var t=new Date(1e3*a.data.dt).toString().split(" ");a.data.current=t,console.log(a),e.setState({dataWeather:a.data}),e.chooseIcon(),e.changeBackground()});var s=this;p.a.get("//api.openweathermap.org/data/2.5/forecast/daily",{params:{q:t,units:"imperial",cnt:"6",appid:a}}).then(function(e){for(var a=[],t=e.data.list.length,r=1;r<t;r++)a.push({date:new Date(1e3*e.data.list[r].dt).toString().split(" ")[0],fahrenheit:{high:Math.round(e.data.list[r].temp.max),low:Math.round(e.data.list[r].temp.min)},celsius:{high:Math.round((e.data.list[r].temp.max-32)*(5/9)),low:Math.round((e.data.list[r].temp.min-32)*(5/9))}});console.log(a),s.setState({dataForcast:a})});var r=(new Date).toISOString().slice(0,10);console.log(r);var n=new Date(r);n=new Date(n.setDate(n.getDate()-6)).toISOString().slice(0,10),console.log(n),p.a.get("//api.worldweatheronline.com/premium/v1/past-weather.ashx",{params:{q:t,format:"json",date:n,enddate:r,key:"5e1a1ce3f2784c3cb22135946191503"}}).then(function(a){console.log(a);for(var t=e.state.chartData,s=a.data.data.weather,r=0;r<s.length;r++)t.labels[r]=s[r].date,t.datasets[2].data[r]=parseInt(s[r].maxtempC),t.datasets[3].data[r]=parseInt(s[r].mintempC),t.datasets[0].data[r]=parseInt(s[r].sunHour),t.datasets[1].data[r]=parseInt(s[r].uvIndex);e.setState({chartData:t,load:!1})})}},{key:"render",value:function(){var e,a=this;return r.a.createElement("div",{className:this.state.colorClass,style:{height:"100%",backgroundColor:this.state.colorClass?"":"rgba(54, 162, 235, 0.6)"}},r.a.createElement("div",{className:this.state.colorClass,style:{width:"100%",minHeight:"100%",backgroundColor:""==this.state.colorClass?"rgba(255, 99, 132, 0.6)":""}},r.a.createElement("div",{className:"wrapper",style:{paddingTop:""==this.state.colorClass?"15%":""}},r.a.createElement("div",{className:0!==this.state.dataWeather.length?"":"cityinput"},r.a.createElement("input",{className:"searchbar transparent",id:"search",type:"text",onChange:function(e){return a.setState({city:e.target.value})},placeholder:"enter city, country"}),r.a.createElement("input",{className:"button transparent",id:"button",onClick:function(){return a.getWeather()},type:"submit",value:"GO"})),0!==this.state.dataWeather.length&&r.a.createElement("div",null,r.a.createElement("div",{className:"panel"},r.a.createElement("h2",{className:"city",id:"city"},this.state.dataWeather.sys.country?this.state.dataWeather.name+", "+this.state.dataWeather.sys.country:this.state.dataWeather.name),r.a.createElement("div",{className:"weather",id:"weather"},r.a.createElement("div",{className:"group secondary"},r.a.createElement("h3",{id:"dt"},this.fullDay(this.state.dataWeather.current[0])+" "+this.state.dataWeather.current[4].substring(0,5)),r.a.createElement("h3",{id:"description"},this.titleCase(this.state.dataWeather.weather[0].description))),r.a.createElement("div",{className:"group secondary"},r.a.createElement("h3",{id:"wind"},"Wind: "+this.state.dataWeather.wind.speed+" mph"),r.a.createElement("h3",{id:"humidity"},"Humidity "+this.state.dataWeather.main.humidity+"%")),r.a.createElement("div",{className:"temperature",id:"temperature"},r.a.createElement("h1",{className:"temp",id:"temp"},r.a.createElement("i",{id:"condition",className:this.state.iconClass}),r.a.createElement("span",{id:"num"},Math.round(this.state.dataWeather.main.temp)),r.a.createElement("a",{className:this.state.celsius?"fahrenheit":"fahrenheit active",onClick:function(){return a.toggleCelsius()},id:"fahrenheit",href:"#"},"\xb0F"),r.a.createElement("span",{className:"divider secondary"},"|"),r.a.createElement("a",{className:this.state.celsius?"celsius active":"celsius",onClick:function(){return a.toggleCelsius()},id:"celsius",href:"#"},"\xb0C"))),r.a.createElement("div",{className:"forecast",id:"forecast"},this.state.dataForcast.map(function(e,t){return r.a.createElement("div",{key:t,className:"block"},r.a.createElement("h3",{className:"secondary"},e.date),r.a.createElement("h2",{className:"high"},a.state.celsius?e.celsius.high:e.fahrenheit.high),r.a.createElement("h4",{className:"secondary"},a.state.celsius?e.celsius.low:e.fahrenheit.low))}))))),r.a.createElement("div",{style:(e={marginTop:"5%",backgroundColor:"black"},Object(c.a)(e,"marginTop","20px"),Object(c.a)(e,"marginBottom","20px"),e)},!this.state.load&&r.a.createElement(g.a,{data:this.state.chartData})))))}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},60:function(e,a,t){e.exports=t(184)},65:function(e,a,t){},66:function(e,a,t){}},[[60,1,2]]]);
//# sourceMappingURL=main.842b124d.chunk.js.map